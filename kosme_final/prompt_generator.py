def generate_prompt(section, item_info, kosme_template, kosme_pass):
    """
    OpenAI에게 보낼 프롬프트를 생성하는 함수
    """
    
    kosme_pass = {f'''
    1. 사업아이템과 관련된 사회적으로 발생하는 문제점을 제시합니다
    2. 사회적 문제에 대한 근거를 제시해 주세요
    3. 시장 동향(트렌드)과 성장 가능성을 제시합니다.
    4. 사업 시작하게 된 동기와 문제인식, 문제 정의를 제시해 주세요,
    5. 시장에서 발견한 고객(이용자)의 니즈를 파악해서 제시해 주세요.
    6. 시장에서 발견한 고객(이용자)의 pain-point를 파악해서 제시해 주세요.
    7. 제품(서비스)을 구현하고자 하는 목적, 고객의 니즈를 혁신적으로 해결하기 위한 방안을 제시해 주세요.    
    8. 가능하다면 시장 확장 가능성에 대해서도 제시해 주세요.
                '''}
    
    
    kosme_template = {f'''
    1. 문제 인식  
    1) 제품 및 서비스 개발동기
    (자사가 개발(보유)하고 있는 제품 및 서비스에 대한 개발동기 등을 기재)

    2) 제품 및 서비스의 목적(필요성)
    (제품(서비스)을 구현하고자 하는 목적, 고객의 니즈를 혁신적으로 해결하기 위한 방안 등을 기재)

    2. 실현 가능성
    1) 제품 및 서비스의 개발 방안
    (제품(서비스) 구현정도ㅡ 제작 소요기간 및 제작방법(자체 외주), 추진일정 등을 기재)

    3. 성장전략(Scale-up)
    1) 자금소요 및 조달계획
    (자금의 필요성, 금액의 적정성 여부를 판단할 수 있도록 사업비(정부지원금+대응자금)의 사용계획 등을 기재(신청사업의 통합관리지침 및 세부관리기준에 근거하여 작성))

    2) 시장진입 및 성과창출 전략
    2-1) 내수시장 확보 방안(경쟁 및 판매가능성) 
    (내수시장을 중심으로 주 소비자층, 주 타겟시장, 진출시기, 시장진출 및 판매 전략, 그간 실적 등을 구체적으로 기재) 

    2-2) 해외시장 진출 방안(경쟁 및 판매가능성)
    (해외시장을 중심으로 주 소비자층, 주 타겟시장, 진출시기, 시장진출 및 판매 전략, 그간 실적 등을 구체적으로 기재)

    4. 팀 구성
    1) 대표자 및 직원의 보유역량 및 기술보호 노력

    2) 사회적 가치 실천계획
    (양질의 일자리 창출을 위한 중소기업 성과공유제, 비공유직의 정규직화, 근로시간 단축 등 사회적 가치 실천계획을 기재)

    3) 지역특화 아이디어 기반 사업추진계획
    (지역에 특화된 산업 및 문화 등을 신기술 또는 최신 트렌드와 결합한 측면에서 기술)

    '''
    }
    
    section_prompts = { 
        "1. 문제 인식": f"""
        당신은 기존 창업가의 아이디어를 구체화하고 사업 가능성을 검증하는 사업계획서 작성 전문가입니다. 
        {item_info}정보를 바탕으로 {kosme_template}템플릿 양식을 철저히 지켜 작성하며,
        {kosme_pass}를 필수적으로 참고하세요.
        아래 항목에 대해 각각 15줄 이상 상세히 답변해주세요. 반드시 답변마다 별도의 문단을 생성하고, 간결함보다 완전성을 우선시합니다.
        이 사업계획서는 내 생계가 달린 아주 중요한 작업입니다.
        다음 정보를 바탕으로 아이디어 검증 및 사업 구체화를 위한 사업계획서에서 제품 및 서비스 개발동기와 서비스의 목적&필요성 부분만 작성해 주세요.
        시장의 필요성과 법제화가 중요합니다.
        관련된 정보를 더 찾아서 사업아이템을 구체화해줘도 좋습니다.
        '특히' 또는 '결론적으로' 같은 단어가 있다면 줄바꿈을 해주세요.

        문제 인식 1: {item_info['제품 및 서비스 개발동기']}
        문제 인식 2: {item_info['제품 및 서비스의 목적_필요성']} 

        **반드시 지켜야 할 출력 규칙**
        1. 절대 #, *, - 기호 및 마크다운 스타일 절대 금지
        2. 항목 표시 시 "1)", "2)" 형식만 사용 (숫자+닫는 괄호)
        3. 데이터 출처 명시 : 모든 통계 수치에 출처를 포함

        예시 출력:  
        1. 문제인식
        1) 제품 및 서비스 개발동기  
            본 제품은 시장의 OOO한 문제를 해결하기 위해 개발되었습니다...  

        2) 제품 및 서비스의 목적 및 필요성  
            현재 시장에서 유사 제품은 OOO한 한계를 가지고 있으며...  
        """,
        
        "2. 실현 가능성": f"""실현 가능성에 대한 설명을 여기에 작성하세요.
        당신은 기존 창업가의 아이디어를 구체화하고 사업 가능성을 검증하는 사업계획서 작성 전문가입니다. 
        {item_info}정보를 바탕으로 {kosme_template}템플릿 양식을 철저히 지켜 작성하며,
        {kosme_pass}를 필수적으로 참고하세요.
        아래 항목에 대해 각각 15줄 이상 상세히 답변해주세요. 반드시 답변마다 별도의 문단을 생성하고, 간결함보다 완전성을 우선시합니다
        이 사업계획서는 내 생계가 달린 아주 중요한 작업입니다.
        다음 정보를 바탕으로 아이디어 검증 및 사업 구체화를 위한 사업계획서에서 제품 및 서비스의 개발 방안 부분만 작성해 주세요.
        관련된 정보를 더 찾아서 사업아이템을 구체화해줘도 좋습니다.
        '특히' 또는 '결론적으로' 같은 단어가 있다면 줄바꿈을 해주세요.

        실현 가능성 1: {item_info['제품 및 서비스의 개발 방안']}

        **반드시 지켜야 할 출력 규칙**
        1. 절대 #, *, - 기호 및 마크다운 스타일 절대 금지
        2. 항목 표시 시 "1)", "2)" 형식만 사용 (숫자+닫는 괄호)
        3. 데이터 출처 명시 : 모든 통계 수치에 출처를 포함

        예시 출력: 
        2. 실현 가능성
        1) 제품 및 서비스의 개발 방안 :
            본 제품은 시장의 OOO한 문제를 해결하기 위해 개발되었습니다...  
        """,


        "3. 성장 전략": f"""
        당신은 기존 창업가의 아이디어를 구체화하고 사업 가능성을 검증하는 사업계획서 작성 전문가입니다. 
        {item_info}정보를 바탕으로 {kosme_template}템플릿 양식을 철저히 지켜 작성하며,
        {kosme_pass}를 필수적으로 참고하세요.
        아래 항목에 대해 각각 15줄 이상 상세히 답변해주세요. 반드시 답변마다 별도의 문단을 생성하고, 간결함보다 완전성을 우선시합니다
        이 사업계획서는 내 생계가 달린 아주 중요한 작업입니다.
        다음 정보를 바탕으로 아이디어 검증 및 사업 구체화를 위한 사업계획서에서 시장진입 및 성과창출 전략에서 내수시장 확보 방안(경쟁 및 판매가능성)과 해외시장 진출 방안(경쟁 및 판매가능성), 자금소요 및 조달계획 부분만 작성해 주세요.
        관련된 정보를 더 찾아서 사업아이템을 구체화해줘도 좋습니다.
        '특히' 또는 '결론적으로' 같은 단어가 있다면 줄바꿈을 해주세요.

        성장 전략 1: {item_info['내수시장 확보 방안 경쟁 및 판매가능성']}
        성장 전략 2: {item_info['해외시장 진출 방안 경쟁 및 판매가능성']}
        성장 전략 3: {item_info['자금 조달 및 개발 방안']}

        **반드시 지켜야 할 출력 규칙**
        1. 절대 #, *, - 기호 및 마크다운 스타일 절대 금지
        2. 항목 표시 시 "1)", "2)" 형식만 사용 (숫자+닫는 괄호)
        3. 데이터 출처 명시 : 모든 통계 수치에 출처를 포함

        예시 출력:
        3. 성장 전략  
        1) 내수시장 확보 방안 경쟁 및 판매가능성 :
            본 제품은 시장의 OOO한 문제를 해결하기 위해 개발되었습니다...  

        2) 해외시장 진출 방안 경쟁 및 판매가능성 :
            현재 시장에서 유사 제품은 OOO한 한계를 가지고 있으며...
            
        3) 자금 조달 및 개발 방안 :
            현재 시장에서 유사 제품은 OOO한 한계를 가지고 있으며...
        """,

        "4. 팀 구성": f"""
        당신은 기존 창업가의 아이디어를 구체화하고 사업 가능성을 검증하는 사업계획서 작성 전문가입니다. 
        {item_info}정보를 바탕으로 {kosme_template}템플릿 양식을 철저히 지켜 작성하며,
        {kosme_pass}를 필수적으로 참고하세요.
        아래 항목에 대해 각각 15줄 이상 상세히 답변해주세요. 반드시 답변마다 별도의 문단을 생성하고, 간결함보다 완전성을 우선시합니다
        이 사업계획서는 내 생계가 달린 아주 중요한 작업입니다.
        다음 정보를 바탕으로 아이디어 검증 및 사업 구체화를 위한 사업계획서에서 대표자 및 직원의 보유역량 및 기술보호 노력, 사회적 가치 실천계획 부분, 지역특화 아이디어 기반 사업추진계획만 작성해 주세요.
        관련된 정보를 더 찾아서 사업아이템을 구체화해줘도 좋습니다.
        '특히' 또는 '결론적으로' 같은 단어가 있다면 줄바꿈을 해주세요.
        
        **반드시 지켜야 할 출력 규칙**
        1. 절대 #, *, - 기호 및 마크다운 스타일 절대 금지
        2. 항목 표시 시 "1)", "2)" 형식만 사용 (숫자+닫는 괄호)
        3. 데이터 출처 명시 : 모든 통계 수치에 출처를 포함
        
        예시 출력: 
        4. 팀 구성
        1) 대표자 및 직원의 보유역량 및 기술보호 노력 :
        본 제품은 시장의 OOO한 문제를 해결하기 위해 개발되었습니다...  

        2) 사회적 가치 실천계획 :
        현재 시장에서 유사 제품은 OOO한 한계를 가지고 있으며... 
            
        3) 지역특화 아이디어 기반 사업추진계획 : 
        현재 시장에서 유사 제품은 OOO한 한계를 가지고 있으며...
          
        1) 팀 구성 1: {item_info['대표자 및 직원의 보유역량 및 기술보호 노력']}
        2) 팀 구성 2: {item_info['사회적 가치 실천계획']}
        3) 팀 구성 3: {item_info['지역특화 아이디어 기반 사업추진계획']}
        """
    }

    return section_prompts.get(section, "잘못된 요청입니다.")

